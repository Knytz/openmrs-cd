version = "1.0.0-SNAPSHOT"

task npmInstall(type: Exec) {
  commandLine 'npm', 'install'
}

task npmBuild(type: Exec) {
  commandLine 'npm', 'run', 'build'
  dependsOn npmInstall
}

task archive(type: Zip) {
  from ('./src')
  baseName = "target/app"
  dependsOn npmBuild
}

task build() {
  dependsOn npmBuild, archive
}